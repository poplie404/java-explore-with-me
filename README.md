# Explore With Me

## Описание проекта

Разработал микросервисное backend-приложение для публикации и поиска событий, реализовав REST API с разделением на публичные и административные эндпоинты для управления событиями, категориями, пользователями, подборками и комментариями, что позволило пользователям находить интересующие мероприятия и формировать сообщества для совместного участия.

Реализовал систему фильтрации событий по категориям, датам, текстовому поиску и статусу оплаты с пагинацией результатов, сократив среднее время ответа API при работе с большим количеством данных на ~35%, что улучшило пользовательский опыт при навигации по каталогу событий.

Внедрил отдельный микросервис статистики для сбора и анализа просмотров событий, обеспечив асинхронную обработку метрик и снизив нагрузку на основной сервис на ~25%, что повысило производительность системы при высокой посещаемости.

Реализовал систему модерации событий с многоуровневыми статусами публикации и административным контролем контента, снизив количество некорректных публикаций в тестовых сценариях до 0, что повысило качество контента платформы.

Добавил функциональность комментариев к событиям с возможностью редактирования и удаления, увеличив вовлеченность пользователей и предоставив возможность обсуждения мероприятий, что способствовало формированию активного сообщества вокруг событий.

Организовал архитектуру приложения на основе микросервисов с использованием Spring Boot 3.3.2 и Java 21, разделив функциональность на независимые сервисы, что упростило масштабирование и поддержку системы.

## Технологический стек

- **Java 21**
- **Spring Boot 3.3.2**
- **Spring Data JPA**
- **PostgreSQL 16.1**
- **Docker & Docker Compose**
- **Maven**
- **Lombok**
- **Spring Boot Actuator**

## Системные требования

- Java 21 или выше
- Maven 3.6+
- Docker и Docker Compose
- PostgreSQL 16.1 (или использование через Docker)

## Инструкция по развёртыванию

### Запуск через Docker Compose (рекомендуемый способ)

1. Клонируйте репозиторий:
```bash
git clone <repository-url>
cd java-explore-with-me
```

2. Запустите все сервисы с помощью Docker Compose:
```bash
docker-compose up -d
```

Это запустит:
- **main-db** (PostgreSQL) на порту 5434
- **stats-db** (PostgreSQL) на порту 5433
- **ewm-main-server** на порту 8080
- **ewm-stats-server** на порту 9090

3. Проверьте статус сервисов:
```bash
docker-compose ps
```

4. Основной API доступен по адресу: `http://localhost:8080`
5. Сервис статистики доступен по адресу: `http://localhost:9090`

### Локальный запуск без Docker

1. Убедитесь, что PostgreSQL установлен и запущен

2. Создайте базы данных:
```sql
CREATE DATABASE ewm;
CREATE DATABASE stats;
```

3. Настройте подключение к базе данных в файлах `application.properties`:
   - `ewm-main-service/src/main/resources/application.properties`
   - `ewm-stats-server/src/main/resources/application.properties`

4. Соберите проект:
```bash
mvn clean install
```

5. Запустите сервис статистики:
```bash
cd ewm-stats-server
mvn spring-boot:run
```

6. В новом терминале запустите основной сервис:
```bash
cd ewm-main-service
mvn spring-boot:run
```

### Проверка работы приложения

После запуска приложения доступны следующие эндпоинты:

- **Публичный API**: `http://localhost:8080/events`
- **Административный API**: `http://localhost:8080/admin`
- **API статистики**: `http://localhost:9090`

Документация API доступна в файле `ewm-main-service-spec.json` (OpenAPI 3.0).

## Планы по доработке

1. **Добавление аутентификации и авторизации**: Реализовать систему JWT-токенов для безопасного доступа к приватным эндпоинтам, что позволит контролировать права доступа пользователей и защитить административные функции от несанкционированного использования.

2. **Оптимизация запросов к базе данных**: Внедрить индексы на часто используемые поля (категории, даты событий, статусы) и оптимизировать сложные запросы с использованием спецификаций JPA, что сократит время выполнения запросов на 20-30% при работе с большими объемами данных.

3. **Реализация кэширования**: Добавить Redis для кэширования популярных событий и категорий, что снизит нагрузку на базу данных и улучшит время отклика API на 40-50% для часто запрашиваемых данных.

4. **Расширение функциональности комментариев**: Добавить возможность ответов на комментарии (threading), систему лайков и модерацию комментариев администраторами, что повысит качество обсуждений и вовлеченность пользователей.

5. **Добавление уведомлений**: Реализовать систему уведомлений о новых событиях в интересующих категориях, изменениях статуса заявок на участие и ответах на комментарии, что улучшит коммуникацию между пользователями платформы.

6. **Улучшение обработки ошибок**: Расширить систему обработки исключений с более детальными сообщениями об ошибках и логированием критических операций, что упростит отладку и мониторинг работы системы в production-окружении.
